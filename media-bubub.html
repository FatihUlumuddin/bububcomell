<!DOCTYPE html>
<html lang="en">
<head>
    <title>MEDIA BUBUB</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        #allQuestionsModal {
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            background: white;
            padding: 20px;
            z-index: 200;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: none;
        }

        #allQuestionsModal.active {
            display: block;
        }

        .question-item {
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }

        .question-item:last-child {
            border-bottom: none;
        }

        @media (max-width: 600px) {
            #allQuestionsModal {
                width: 95%;
                max-height: 85vh;
            }
        }
        :root {
            --cube-size: 60px;
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #74ebd5, #ACB6E5);
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        .scene {
            perspective: 1200px;
        }

        .block {
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(-15deg) rotateY(30deg);
            transition: transform 0.5s ease;
        }

        .cube {
            position: absolute;
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .side {
            position: absolute;
            color: white;
            font-size: 18px;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .side.disabled {
            background: rgba(150, 150, 150, 0.6) !important;
            pointer-events: none;
        }

        .controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: grid;
            /* grid-template-columns: 50px 50px 50px;
            grid-template-rows: 50px 50px 50px; */
            gap: 10px;
        }

        .control-btn {
            width: 40px;
            height: 40px;
            font-size: 24px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            user-select: none;
            border-radius: 40%; /* <-- This makes it round */
            transition: background 0.3s ease;
        }

        .control-btn:hover {
            background: rgba(0, 0, 0, 0.9);
        }


        .control-btn:nth-child(1) { grid-column: 2; grid-row: 1; }
        .control-btn:nth-child(2) { grid-column: 1; grid-row: 2; }
        .control-btn:nth-child(3) { grid-column: 3; grid-row: 2; }
        .control-btn:nth-child(4) { grid-column: 2; grid-row: 3; }

        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            z-index: 100;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: none;
        }

        .modal.active {
            display: block;
        }
        .questions-list {
            margin-bottom: 15px;
            max-height: 55vh;
            overflow-y: auto;
            padding: 10px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 6px;
        }

        .modal button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s ease;
        }

        .modal button:hover {
            background: #0056b3;
        }
        .show-questions-button {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-family: Arial, sans-serif;
        }

        .show-questions-button:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
        }

        .show-questions-button:active {
            transform: translateY(1px);
        }

        /* Specific style for "Back to Materi" button */
        .back-button {
            background-color: #28a745;
            top: 60px; /* Move it below the "Show All Questions" button */
            right: 20px;
            position: fixed;
            color: white;
            padding: 10px 16px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-family: Arial, sans-serif;
        }

        .back-button:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }

        .back-button:active {
            transform: translateY(1px);
        }

    </style>
</head>
<body>

<div class="scene">
    <div class="block" id="block"></div>
</div>
<button class="show-questions-button" onclick="showAllQuestionsModal()">
    Show All Questions
</button>

<button class="show-questions-button back-button" onclick="goToMediaBubub()">
    Back to Materi
</button>
<!-- All Questions Modal -->
<div class="modal" id="allQuestionsModal">
    <h2>All Questions</h2>
    <div id="allQuestionsList" class="questions-list"></div>
    <button onclick="closeAllQuestionsModal()">Close</button>
</div>
<div class="controls">
    <div class="control-btn" onclick="rotateBlock('up')">
        <i class="bi bi-arrow-up"></i>
    </div>
    <div class="control-btn" onclick="rotateBlock('left')">
        <i class="bi bi-arrow-left"></i>
    </div>
    <div class="control-btn" onclick="rotateBlock('right')">
        <i class="bi bi-arrow-right"></i>
    </div>
    <div class="control-btn" onclick="rotateBlock('down')">
        <i class="bi bi-arrow-down"></i>
    </div>
</div>

<div class="modal" id="questionModal">
    <h2>Pertanyaan nomor <span id="questionNumber"></span></h2>
    <p id="questionText"></p>
    <button onclick="closeModal()">Close</button>
</div>

<script>
    function goToMediaBubub() {
        window.location.href = 'menu.html'; // Change this to your actual Media Bubub link
    }
    const block = document.getElementById('block');
    const modal = document.getElementById('questionModal');
    const questionNumber = document.getElementById('questionNumber');
    const questionText = document.getElementById('questionText');

    const disabledNumbers = new Set();

    const colorMap = {
        1: "#ff4500", 2: "#ff4500", 3: "#ff4500", 4: "#ff4500", 5: "#ff4500",
        6: "#ff4500", 7: "#ff4500", 8: "#ff4500", 9: "#ff4500", 10: "#ff4500",
        11: "#0000ff", 12: "#0000ff", 13: "#0000ff", 14: "#0000ff", 15: "#0000ff",
        16: "#0000ff", 17: "#0000ff", 18: "#0000ff", 19: "#0000ff", 20: "#0000ff",
        21: "#00ff00", 22: "#00ff00", 23: "#00ff00", 24: "#00ff00", 25: "#00ff00",
        26: "#00ff00", 27: "#00ff00", 28: "#00ff00", 29: "#00ff00", 30: "#00ff00",
        31: "#00ff00", 32: "#00ff00", 33: "#00ff00", 34: "#00ff00", 35: "#00ff00",
        36: "#bf00ff", 37: "#bf00ff", 38: "#bf00ff", 39: "#bf00ff", 40: "#bf00ff",
        41: "#bf00ff", 42: "#bf00ff", 43: "#bf00ff", 44: "#bf00ff", 45: "#bf00ff",
        46: "#bf00ff", 47: "#bf00ff", 48: "#bf00ff", 49: "#bf00ff", 50: "#bf00ff",
        51: "#bf00ff", 52: "#bf00ff", 53: "#bf00ff", 54: "#bf00ff"
    };

    const questions = {
        1: "Sebutkan lima kata Tanya!",
        2: "Apa fungsi kata Tanya (apa)?",
        3: "Kapan menggunakan kata Tanya dimana?",
        4: "Apa pengertian kata Tanya?",
        5: "Berikan contoh kalimat Tanya menggunakan (mengapa)?",
        6: "Apa perbedaan antara (kapan) dan  ",
        7: "Sebutkan contoh pertanyaan dengan ",
        8: "Jika ingin menanyakan jumlah, kata  ",
        9: "Jika ingin menanyakan tempat, kata ",
        10: "Kata Tanya selalu diakhiri dengan ",
        11: "Buat satu pertanyaan dengan kata  ",
        12: "Buat satu pertanyaan dengan kata   ",
        13: "Buat satu pertanyaan dengan kata ",
        14: "Buat satu pertanyaan dengan kata ",
        15: "Buat satu pertanyaan dengan kata ",
        16: "Buat satu pertanyaan dengan kata ",
        17: "Buat satu pertanyaan dengan kata Tanya (dari mana) tentang asal ",
        18: "Buat satu pertanyaan dengan kata Tanya (ke mana) tentang ",
        19: "Buat satu pertanyaan dengan kata ",
        20: "Buat satu pertanyaan dengan kata ",
        21: "___ tempat ini? Ini adalah stasiun ",
        22: "___ saya bisa membeli tiket bus? ",
        23: "___ harga tiket masuk ke museum?",
        24: "___ yang bias membantu saya di ",
        25: "___ kamu pergi ke rumah sakit? ",
        26: "___ cara menuju kantor polisi dari ",
        27: "___ halte bus terdekat dari sini?",
        28: "___ jam perpustakaan buka setiap ",
        29: "___ nama rumah sakit terbesar di ",
        30: "___ tranportasi yang sering kamu ",
        31: "___ bank yang paling dekat dari sekolah",
        32: "___ orang yang bekerja di apotek? ",
        33: "____ yang harus saya lakukan jika ingin membuat SIM?",
        34: "___ tempat wisata terkenal di kota ini?",
        35: "___ kamu akan pergi ke bandara?",
        36: "Siapa tokoh utama dalam cerita ini?",
        37: "Ke mana Budi ingin pergi?",
        38: "Di mana Budi Membeli tiket kereta?",
        39: "Apa yang hilang dari Budi?",
        40: "Di mana Budi mencari dompetnya?",
        41: "Siapa yang menemukan dompet Budi?",
        42: "Bagaimana perasaan Budi ketika dompetnya hilang? ",
        43: "Bagaimana perasaan Budi setelah mendapatkan dompetnya kembali?",
        44: "Pernahkah kamu kehilangan sesuatu? Ceritakan pengalamanmu!",
        45: "Jika kamu kehilangan dompet? Apa yang kamu lakukan?",
        46: "Fasilitas umum apa saja yang terdapat dalam cerita ini? ",
        47: "Ceritakan Kembali isi cerita dengan kalimatmu sendiri!",
        48: "Apa bagian cerita yang paling menarik menurutmu? Mengapa?",
        49: "Pernahkah kamu mengalami kejadian seperti itu? Ceritakan!",
        50: "Jika kamu bertemu dengan tokoh utama, apa yang ingin kamu tanyakan? ",
        51: "Jika kamu menulis cerita sendiri, apa yang akan kamu ceritakan? ",
        52: "Jika kamu menulis cerita sendiri, apa yang akan kamu ceritakan? ",
        53: "Jika kamu menulis cerita sendiri, apa yang akan kamu ceritakan? ",
        54: "Jika kamu menulis cerita sendiri, apa yang akan kamu ceritakan? "
    };

    let rotateX = -15;
    let rotateY = 30;

    const cubeSize = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--cube-size'));

    function showAllQuestionsModal() {
        const allQuestionsList = document.getElementById('allQuestionsList');
        allQuestionsList.innerHTML = ''; // Clear previous content

        for (let i = 1; i <= 54; i++) {
            const questionText = questions[i] || `Question ${i} not set`;
            const item = document.createElement('div');
            item.className = 'question-item';
            item.innerHTML = `<strong>${i}.</strong> ${questionText}`;
            allQuestionsList.appendChild(item);
        }

        document.getElementById('allQuestionsModal').classList.add('active');
    }

    function closeAllQuestionsModal() {
        document.getElementById('allQuestionsModal').classList.remove('active');
    }

    function createCube(x, y, z, number) {
        const cube = document.createElement('div');
        cube.className = 'cube';
        cube.style.transform = `translate3d(${x}px, ${y}px, ${z}px)`;

        ['front', 'back', 'right', 'left', 'top', 'bottom'].forEach(side => {
            const face = document.createElement('div');
            face.className = `side ${side}`;
            face.innerText = number;
            face.setAttribute('data-number', number);
            face.onclick = () => showQuestion(number, face);
            face.style.width = `${cubeSize}px`;
            face.style.height = `${cubeSize}px`;

            // Set manual color based on number
            const color = colorMap[number] || "#555";
            face.style.backgroundColor = color;

            cube.appendChild(face);
        });

        block.appendChild(cube);
    }

    function createBlock() {
        let number = 1;
        for (let z = 0; z < 6; z++) {
            for (let y = 0; y < 3; y++) {
                for (let x = 0; x < 3; x++) {
                    createCube(x * cubeSize, y * cubeSize, z * cubeSize, number++);
                }
            }
        }
    }

    function showQuestion(number) {
        if (disabledNumbers.has(number)) return;
        questionNumber.innerText = number;
        questionText.innerText = questions[number] || "No question assigned.";
        modal.classList.add('active');
        modal.dataset.number = number;
    }

    function closeModal() {
        const number = parseInt(modal.dataset.number);
        document.querySelectorAll(`[data-number="${number}"]`).forEach(el => el.classList.add('disabled'));
        disabledNumbers.add(number);
        modal.classList.remove('active');
    }

    function rotateBlock(direction) {
        if (direction === 'left') rotateY -= 15;
        if (direction === 'right') rotateY += 15;
        if (direction === 'up') rotateX -= 15;
        if (direction === 'down') rotateX += 15;
        updateRotation();
    }

    function updateRotation() {
        block.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    }

    createBlock();

    const faces = {
        front: `translateZ(${cubeSize / 2}px)`,
        back: `rotateY(180deg) translateZ(${cubeSize / 2}px)`,
        right: `rotateY(90deg) translateZ(${cubeSize / 2}px)`,
        left: `rotateY(-90deg) translateZ(${cubeSize / 2}px)`,
        top: `rotateX(90deg) translateZ(${cubeSize / 2}px)`,
        bottom: `rotateX(-90deg) translateZ(${cubeSize / 2}px)`
    };

    setTimeout(() => {
        document.querySelectorAll('.side').forEach(side => {
            const sideClass = Array.from(side.classList).find(cls => faces[cls]);
            if (sideClass) side.style.transform = faces[sideClass];
        });
    }, 100);
</script>

</body>
</html>
